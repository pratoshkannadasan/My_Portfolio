<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Positions Timeline â€¢ Pratosh</title>
  <link rel="stylesheet" href="style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    .wrap{max-width:1100px;margin:0 auto;padding:0 10px}
    .crumbs{display:flex;align-items:center;gap:.6rem;margin-bottom:10px}
    .crumbs a{color:#2556f0;text-decoration:none}
    .crumbs a:hover{text-decoration:underline}
    .timeline{position:relative;margin:20px 0;padding-left:22px}
    .timeline::before{content:"";position:absolute;left:8px;top:0;bottom:0;width:2px;background:linear-gradient(#22c1c3,#2556f0)}
    .t-item{position:relative;margin:0 0 16px;background:var(--card,#fff);border:1px solid var(--line,#e5e7eb);
      border-radius:14px;padding:14px 16px;box-shadow:0 8px 20px rgba(0,0,0,.05)}
    .t-item::before{content:"";position:absolute;left:-6px;top:18px;width:12px;height:12px;border-radius:50%;background:#fff;border:2px solid #2556f0}
    .t-head{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}
    .t-title{font-weight:800}
    .badge{background:linear-gradient(180deg,#eef2ff,#e7ecff);color:#2b3ca8;border:1px solid rgba(43,60,168,.14);border-radius:10px;padding:2px 6px;font-size:.78rem}
    .meta{color:#6b7280}
    .tags{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:6px}
    .tag{background:rgba(37,86,240,.08);border:1px solid rgba(37,86,240,.15);color:#2556f0;padding:.22rem .55rem;border-radius:999px;font-size:.78rem}
  </style>
</head>
<body>
  <aside class="sidebar">
    <a class="brand" href="index.html">PK</a>
    <nav>
      <a href="index.html"><i class="fa-solid fa-house"></i> Home</a>
      <a href="awards.html"><i class="fa-solid fa-trophy"></i> Awards</a>
      <a class="active" href="positions.html"><i class="fa-solid fa-users-gear"></i> Positions</a>
      <a href="projects.html"><i class="fa-solid fa-diagram-project"></i> Projects</a>
      <a href="skills.html"><i class="fa-solid fa-brain"></i> Skills</a>
      <a href="contact.html"><i class="fa-solid fa-paper-plane"></i> Contact</a>
    </nav>
    <div class="sidebar-footer">
      <a href="Pratosh_Kannadasan_Resume.pdf" class="btn primary" download>ðŸ’¼ Download CV</a>
    </div>
  </aside>

  <main class="content">
    <header class="page-header">
      <div class="crumbs">
        <a href="positions.html"><i class="fa-solid fa-arrow-left"></i> Back</a>
        <span class="meta">/ Timeline</span>
      </div>
      <h1 id="tl-title"><i class="fa-solid fa-timeline"></i> Timeline</h1>
      <p id="tl-sub" class="meta"></p>
    </header>

    <section class="wrap">
      <div id="timeline" class="timeline"></div>
    </section>

    <footer class="footer"><p>Â© 2025 Pratosh Kannadasan</p></footer>
  </main>

  <script src="positions-data.js"></script>
  <script>
    const TITLES = {
      higher: {title: "Higher Council", sub: "Chairperson, Deputy Chairperson, Treasurer, etc."},
      excos: {title: "Excos", sub: "Executive Committee & Heads of Bureaus"},
      subordinates: {title: "Subordinates", sub: "Assistants, members, coordinators"},
      facilitator: {title: "Facilitators", sub: "Mentors, trainers, program facilitators"}
    };
    const qs = new URLSearchParams(location.search);
    const cat = qs.get("cat") || "higher";
    const header = TITLES[cat] || TITLES.higher;
    document.getElementById("tl-title").innerHTML = `<i class="fa-solid fa-timeline"></i> ${header.title}`;
    document.getElementById("tl-sub").textContent = header.sub;

    const data = (window.POSITIONS || []).filter(x => x.category === cat)
      .sort((a,b)=> (b.year||0)-(a.year||0) || (b.date||"").localeCompare(a.date||""));

    const html = data.map(p => `
      <article class="t-item">
        <div class="t-head">
          <span class="t-title">${p.role_en}</span>
          ${p.year ? `<span class="badge">${p.year}</span>` : ""}
          ${p.scope ? `<span class="badge">${p.scope}</span>` : ""}
          ${p.date ? `<span class="badge">${p.date}</span>` : ""}
          ${p.org ? `<span class="meta">â€¢ ${p.org}</span>` : ""}
        </div>
        ${p.details ? `<p class="meta" style="margin:.35rem 0 0">${p.details}</p>` : ""}
        ${p.tags?.length ? `<div class="tags">${p.tags.map(t=>`<span class="tag">${t}</span>`).join("")}</div>`:""}
      </article>
    `).join("");

    document.getElementById("timeline").innerHTML = html || `<p class="meta">No records yet.</p>`;
  </script>
</body>
</html>
